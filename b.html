<?php include "admin.php" ?>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Admin - S.4.S Kisyula </title>
  </head>

  <body class="space">
    <?php include "adminHeader.php" ?>
    <!-- Navigation -->
    <style>
      body {
        font-family: "Lato", sans-serif;
        transition: background-color .5s;
      }

      .sidenav {
        height: 100%;
        width: 0;
        position: fixed;
        z-index: 1;
        top: 0;
        left: 0;
        background-color: #111;
        overflow-x: hidden;
        transition: 0.5s;
        padding-top: 60px;
      }

      .sidenav a {
        padding: 8px 8px 8px 32px;
        text-decoration: none;
        font-size: 16px;
        color: #818181;
        display: block;
        transition: 0.3s;
      }

      .sidenav a:hover,
      .offcanvas a:focus {
        color: #f1f1f1;
      }

      .sidenav .closebtn {
        position: absolute;
        top: 0;
        right: 25px;
        font-size: 36px;
        margin-left: 50px;
      }

      #main {
        transition: margin-left .5s;
        padding: 16px;
      }

      @media screen and (max-height: 450px) {
        .sidenav {
          padding-top: 15px;
        }
        .sidenav a {
          font-size: 12px;
        }
      }
    </style>
    <div id="mySidenav" class="sidenav">
      <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
      <a data-toggle="modal" data-target="#addToDo" href="#">About</a>
      <a data-toggle="modal" data-target="#addToDo" href="#">Services</a>
      <a data-toggle="modal" data-target="#addToDo" href="#">Clients</a>
      <a data-toggle="modal" data-target="#addToDo" href="#">Contact</a>
    </div>
    <script>
      function openNav() {
        document.getElementById('mySidenav').style.width = '250px'
        document.getElementById('main').style.marginLeft = '250px'
        document.body.style.backgroundColor = 'rgba(0,0,0,0.4)'
      }

      function closeNav() {
        document.getElementById('mySidenav').style.width = '0'
        document.getElementById('main').style.marginLeft = '0'
        document.body.style.backgroundColor = 'white'
      }
    </script>
    <div class="container colorGrey">
      <div class="row">

        <div class="parent">
          <div class="content" id="content2">
            <div id="main">
              <span style="font-size:30px;cursor:pointer" onclick="openNav()">&#9776; Open list of books</span>
            </div>
            <?php
            $query = "SELECT * FROM `s4stodolist`";
            $results = mysqli_query($link, $query);

            echo '
            <div class="panel panel-primary table-responsive text-center">
              <div class="panel-heading">
                <h3 class="panel-title">TODO LIST</h3>
              </div>
              <div class="panel-body">
                <table class="table table-bordered table-striped table-hover">
                  <thead>
                    <tr>
                      <th>Task ID</th>
                      <th>Task</th>
                    </tr>
                  </thead>
                  <tbody>';
                  if ($results) {
                      while ($row = mysqli_fetch_array($results)) {
                          echo
                          '<tr>
                          <td>'.$row["ID"].'</td>
                          <td>'.$row["Task"].'</td>
                          </tr>';
                      }
                  }
                  echo '
                  </tbody>
                </table>
              </div>
            </div>';
             ?>
              <form method="post">
                <div class="col-md-1-12">

                  <div class="panel panel-primary table-responsive text-center">
                    <div class="panel-heading">
                      <h3 class="panel-title">EDIT TODO LIST</h3>
                    </div>
                    <div class="panel-body">
                      <table class="table table-bordered table-striped table-hover">
                        <tbody>
                          <tr>
                            <?php
                              if (mysqli_num_rows($results)> 0) {
                                  echo
                                '<td>
                                <button type="button" class="btn btn-danger btn-sm btn-block" data-toggle="modal" data-target="#deleteModal">MARK DONE</button>
                                </td>';
                              } else {
                                  echo
                                '<td>
                                <button type="button" class="btn btn-info btn-sm btn-block" data-toggle="modal" data-target="#noMessageModal">SHOW</button>
                                </td>';
                              }
                               ?>
                              <td>
                                <button type="button" class="btn btn-info btn-sm btn-block" data-toggle="modal" data-target="#addToDo">ADD TODO</button>
                              </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </form>
          </div>
          <div class="content" id="content2">
            <p>
              To ADD a new Book, click on this button and follow instructions
            </p>
            <button class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModalHorizontal"> Launch Horizontal Form</button>

            <!-- Modal -->
            <div class="modal fade" id="myModalHorizontal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <!-- Modal Header -->
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                      <span aria-hidden="true">&times;</span>
                      <span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title" id="myModalLabel">Modal title</h4>
                  </div>

                  <!-- Modal Body -->
                  <div class="modal-body">
                    <form class="form-horizontal" role="form">
                      <div class="form-group">
                        <label class="col-sm-2 control-label" for="inputEmail3">Email</label>
                        <div class="col-sm-10">
                          <input type="email" class="form-control" id="inputEmail3" placeholder="Email" />
                        </div>
                      </div>
                      <div class="form-group">
                        <label class="col-sm-2 control-label" for="inputPassword3">Password</label>
                        <div class="col-sm-10">
                          <input type="password" class="form-control" id="inputPassword3" placeholder="Password" />
                        </div>
                      </div>
                      <div class="form-group">
                        <div class="col-sm-offset-2 col-sm-10">
                          <div class="checkbox">
                            <label>
                            <input type="checkbox"/> Remember me
                        </label>
                          </div>
                        </div>
                      </div>
                      <div class="form-group">
                        <div class="col-sm-offset-2 col-sm-10">
                          <button type="submit" class="btn btn-default">Sign in</button>
                        </div>
                      </div>
                    </form>
                  </div>
                  <!-- Modal Footer -->
                  <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                  </div>
                </div>
              </div>
            </div>

            <button type="button" class="btn btn-info btn-sm btn-block" data-toggle="modal" data-target="#addToDo">ADD TODO</button>
          </div>
        </div>
        <div class="col-lg-12 text-center">
          <div class="modal fade" id="noMessageModal" role="dialog">
            <div class="modal-dialog">
              <!-- Modal content-->
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                  <p>
                    You dont have any messages
                  </p>
                </div>
              </div>
            </div>
          </div>

          <div class="modal fade modal-lg" id="deleteModal" role="dialog">
            <div class="modal-dialog">
              <!-- Modal content-->
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                  <h3>Mark A Message Done</h3>
                </div>
                <div class="modal-body">
                  <form method="post" style="text-align: center; margin-top: 20px;">
                    <div class="form-group">
                      <label for="enteredID">Enter Message ID to Mark Done. eg 12:</label>
                      <input name="enteredID" class="form-control" placeholder="Enter Message ID to Mark Done" type="number" />
                      <input style="margin-top: 20px;" type="submit" name="delete" class="btn btn-lg btn-danger btn-block" value="DELETE (MARK as DONE)" />
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>

          <div class="modal fade modal-lg" id="addToDo" role="dialog">
            <div class="modal-dialog">
              <!-- Modal content-->
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal">&times;</button>
                  <h3>Type A ToDo List Below and Click the Button To Add</h3>
                </div>
                <div class="modal-body">
                  <form method="post" style="text-align: center; margin-top: 20px;">
                    <div class="form-group">
                      <fieldset class="form-group text-center">
                        <label for="todoMessage">Add TO DO LIST</label>
                        <textarea class="form-control" name="todoMessage" rows="3"></textarea>
                      </fieldset>
                      <input type="submit" name="addList" class="btn btn-success btn-sm btn-block" value="ADD TODO" />
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>

</html>
